---
title: T-Test or Z-Test?
type: "blog"
date: 2021-05-17
published: true
---

There are many hypothesis testing methods exist in the realm of statistics. 
However, each only suitable for certain conditions. 
To make things simple, I am only going to discuss the difference between T-Test and Z-Test.

Before we jump into the definitions of those two, we should know the definition of hypothesis testing. 
Hypothesis testing is a way to verify our assumption on a population. 

Let's say one day, we wanted to verify if the average waiting time in a certain bus stop is 5 minutes,
and that's when a hypothesis testing is needed. 
First, we define the null hypothesis and the alternative hypothesis. 
In this case, the null hypothesis is <u>*the average waiting time is 5 minutes*</u>, 
and the two sided alternative hypothesis is <u>*the average waiting time is not 5 minutes*</u>. 

By default, we accept the null hypothesis. 
After a hypothesis testing is done, and we have proven that the null hypothesis should be rejected, we then should accept the alternative hypothesis instead.

Note that there are two ways of hypothesis testing: 
1. One sample hypothesis testing
2. Two samples hypothesis testing

Most importantly, this tutorial will be done in R.

# T-Test

T-Test is a hypothesis testing method that statisticians use when the standard deviation
is unknown, and the number of data points is small $(n < 30)$.

$$
t = \frac{\bar{X} - \mu}{s/\sqrt{n}}
$$

where,
1. $t$ is the t-statistics
2. $\bar{X}$ is the sample mean
3. $\mu$ is the hypothesized mean
4. $s$ is the sample's standard error
5. $n$ is the size of sample mean

First, install the dataset with `install.packages(resampleData)` in your R console. 
It will install all the data sets used in a book called [Mathematical Statistics with Resampling and R](https://sites.google.com/site/chiharahesterberg/home)

We then prepare the data set, 
```r:title=index.r
library(resampleData) # load up Verizon dataset
ilec <- as.data.frame(Verizon[Verizon$Group == "ILEC", ])
```

Let's get 25 random data points from ILEC population.
```r:title=index.r
set.seed(1998)
random_sample <- sample(ilec$Time, 25, replace = TRUE)
random_sample_sderr <- sd(random_sample) / sqrt(length(random_sample))
t_statistics # 0.8896381
```

```r:title=index.r
set.seed(1999)
t_test <- function(population) {
  sample <- sample(population, 25, replace = TRUE)
  sample_sderr <- sd(sample) / sqrt(length(sample))
  t_statistics <- (mean(sample) - mean(population)) / sample_sderr
  return(t_statistics)
}

bootstrap_t_test <- replicate(5000, t_test(ilec$Time))

plot(
    lwd = 2, 
    col = "blue",
    density(bootstrap_t_test), 
    main = "Distribution of T-statistics",
    xlab = "T-statistics"
)
abline(v = quantile(bootstrap_t_test, probs = c(0.025, 0.975)), col = "red", lwd = 2)

abline(v = sample_t_statistics, lwd = 2)

legend(
  -17,
  0.34,
  col = c("blue", "red", "black"),
  lwd = c(2,2,2),
  c("Distribution of T-statistics", "Cutoff points", "T-statistics")
)
```

# Z-Test

Similar to T-test, however Z-Test is used when the standard deviation is known, 
and the number of data points are big $(n \geq 30)$.

$$
z = \frac{\bar{X} - \mu}{\sigma / \sqrt{n}}
$$

Where, 
1. $z$ is the z-statistics
2. $\bar{X}$ is the sample mean 
3. $\mu$ is the hypothesized mean
4. $\sigma$ is the population standard deviation value
5. $n$ is the size of sample mean

# Key points
